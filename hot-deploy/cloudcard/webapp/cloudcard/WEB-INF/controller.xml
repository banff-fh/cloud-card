<?xml version="1.0" encoding="UTF-8"?>
<site-conf xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/site-conf.xsd">
	<!-- The controller elements that are common to all OFBiz components can
		be found in the following xml file. A component can override the elements
		found in the common-controller.xml file. -->
	<include location="component://common/webcommon/WEB-INF/common-controller.xml" />

	<description>cloudcard Component Site Configuration File</description>

	<!-- Events to run on every request before security (chains exempt) -->
	<preprocessor>
		<event name="checkTokenLogin" type="java" path="com.banfftech.cloudcard.common.CloudCardLoginWorker" invoke="checkTokenLogin"/>
	</preprocessor>
	<!-- Events to run on every request after all other processing (chains exempt) -->
	<!-- <postprocessor> <event name="test" type="java" path="org.ofbiz.webapp.event.TestEvent"
		invoke="test"/> </postprocessor> -->

    <request-map uri="json">
        <security direct-request="false"/>
        <event type="java" path="com.banfftech.cloudcard.common.CommonEvents" invoke="jsonResponseForCloudCard"/>
        <response name="success" type="none"/>
    </request-map>

    <!-- APP接口 -->
    <!--
    	 所有的接口请求中都配置 <security https="false" auth="false"/>
    	https 交给 前置的 nginx 等 代理/负载均衡 去进行处理
    	auth 如果为true，没登录情况下，ofbiz控制器会跳转到登录页面，所以这里api都置为 false，鉴权机制采用后面的 event 调用服务时，服务定义auth = true
     -->


    <!-- 开卡充值统一接口 -->
	<request-map uri="activateCloudCardAndRecharge">
        <security https="false" auth="false" />
        <event type="service" invoke="activateCloudCardAndRecharge"/>
        <response name="success" type="request" value="json"/>
        <response name="error" type="request" value="json"/>
    </request-map>

    <!-- 卡授权接口 -->
	<request-map uri="createCardAuth">
		<security https="false" auth="false" />
    	<event type="service" invoke="createCardAuth"/>
        <response name="success" type="request" value="json"/>
        <response name="error" type="request" value="json"/>
    </request-map>

    <!-- 解除卡授权接口 -->
	<request-map uri="revokeCardAuth">
		<security https="false" auth="false" />
    	<event type="service" invoke="revokeCardAuth"/>
        <response name="success" type="request" value="json"/>
        <response name="error" type="request" value="json"/>
    </request-map>

     <!-- 商家扫卡收款 接口 -->
	<request-map uri="cloudCardWithdraw">
		<security https="false" auth="false" />
    	<event type="service" invoke="receiptByCardCode"/><!-- 这里调用 receiptByCardCode 服务，服务内部会调用 cloudCardWithdraw -->
        <response name="success" type="request" value="json"/>
        <response name="error" type="request" value="json"/>
    </request-map>

     <!-- 用户卡列表接口 -->
    <request-map uri="myCloudCards">
    	<security https="false" auth="false" />
    	<event type="service" invoke="myCloudCards"/>
        <response name="success" type="request" value="json"/>
        <response name="error" type="request" value="json"/>
    </request-map>

    <!-- 查询商家交易记录 -->
    <request-map uri="getBizPayment">
		<security https="false" auth="false" />
    	<event type="service" invoke="getBizPayment"/>
        <response name="success" type="request" value="json"/>
        <response name="error" type="request" value="json"/>
    </request-map>

    <!-- 查询用户交易记录 -->
    <request-map uri="getUserPayment">
		<security https="false" auth="false" />
    	<event type="service" invoke="getUserPayment"/>
        <response name="success" type="request" value="json"/>
        <response name="error" type="request" value="json"/>
    </request-map>

    <!-- 商家卖卡余额等信息查询 -->
    <request-map uri="getLimitAndPresellInfo">
		<security https="false" auth="false" />
    	<event type="service" invoke="getLimitAndPresellInfo"/>
        <response name="success" type="request" value="json"/>
        <response name="error" type="request" value="json"/>
    </request-map>

	<!-- 扫二维码获取卡信息 -->
    <request-map uri="getCardInfoByCode">
		<security https="false" auth="false" />
    	<event type="service" invoke="getCardInfoByCode"/>
        <response name="success" type="request" value="json"/>
        <response name="error" type="request" value="json"/>
    </request-map>

    <!-- 验证码发送申请 -->
    <request-map uri="getLoginCaptcha">
		<security https="false" auth="false" />
    	<event type="service" invoke="getLoginCaptcha"/>
        <response name="success" type="request" value="json"/>
        <response name="error" type="request" value="json"/>
    </request-map>

	<!-- 商户app登录接口 -->
	<request-map uri="bizAppLogin">
		<security https="false" auth="false" />
		<event type="service" invoke="bizAppLogin" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 用户app登录接口 -->
	<request-map uri="userAppLogin">
		<security https="false" auth="false" />
		<event type="service" invoke="userAppLogin" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 检查app版本 -->
	<request-map uri="checkAppVersion">
		<security https="false" auth="false" />
		<event type="service" invoke="checkAppVersion" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 注册设备regId -->
	<request-map uri="regJpushRegId">
		<security https="false" auth="false" />
		<event type="service" invoke="regJpushRegId"  />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 退出登录删除regId -->
	<request-map uri="removeJpushRegId">
		<security https="false" auth="false" />
		<event type="service" invoke="removeJpushRegId"  />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 根据二维码获取商家信息，用户可扫商家码后付款 -->
	<request-map uri="getStoreInfoByQRcode">
		<security https="false" auth="false" />
		<event type="service" invoke="getStoreInfoByQRcode"  />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 用户扫商家码付款 -->
	<request-map uri="customerWithdraw">
		<security https="false" auth="false" />
		<event type="service" invoke="customerWithdraw"  />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 用户转让云卡 -->
	<request-map uri="modifyCardOwner">
		<security https="false" auth="false" />
		<event type="service" invoke="modifyCardOwner"  />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 支付宝回调通知 -->
    <request-map uri="aliPayNotify">
    	<security https="false" auth="false" />
        <event type="java" path="com.banfftech.cloudcard.pay.PayServices" invoke="aliPayNotify"></event>
        <response name="success" type="none"/>
    </request-map>

	<!-- 微信回调通知 -->
    <request-map uri="wxPayNotify">
        <security https="false" auth="false" />
        <event type="java" path="com.banfftech.cloudcard.pay.PayServices" invoke="wxPayNotify"></event>
        <response name="success" type="none"/>
    </request-map>

	<!-- 支付宝或微信预支付订单 -->
	<request-map uri="uniformOrder">
		<security https="false" auth="false" />
		<event type="service" invoke="uniformOrder"  />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>


	<!-- 商户 开店申请接口 -->
	<request-map uri="bizCreateApply">
		<security https="false" auth="false" />
		<event type="service" invoke="bizCreateApply" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 商户 创建圈子接口 -->
	<request-map uri="bizCreateGroup">
		<security https="false" auth="false"/>
		<event type="service" invoke="bizCreateGroup" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 商户 邀请店家加入圈子接口 -->
	<request-map uri="bizSentGroupInvitation">
		<security https="false" auth="false"/>
		<event type="service" invoke="bizSentGroupInvitation" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 商户 接收/拒绝圈子邀请接口 -->
	<request-map uri="bizAcceptGroupInvitation">
		<security https="false" auth="false"/>
		<event type="service" invoke="bizAcceptGroupInvitation" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 商户 退出圈子 接口 -->
	<request-map uri="bizExitGroup">
		<security https="false" auth="false"/>
		<event type="service" invoke="bizExitGroup" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 商户 退出圈子 接口 -->
	<request-map uri="bizFreezeGroupPartner">
		<security https="false" auth="false"/>
		<event type="service" invoke="bizFreezeGroupPartner" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 商户 圈主解散圈子 接口 -->
	<request-map uri="bizDissolveGroup">
		<security https="false" auth="false"/>
		<event type="service" invoke="bizDissolveGroup" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 商户 我的圈子 接口 -->
	<request-map uri="bizMyGroup">
		<security https="false" auth="false"/>
		<event type="service" invoke="bizMyGroup" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 商户 店铺简要信息 接口 -->
	<request-map uri="bizGetStoreInfo">
		<security https="false" auth="false"/>
		<event type="service" invoke="bizGetStoreInfo" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 商户 圈主发起结算 接口 -->
	<request-map uri="bizDoSettlement">
		<security https="false" auth="false"/>
		<event type="service" invoke="bizDoSettlement" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 商户 圈友确认结算 接口 -->
	<request-map uri="bizSettlementConfirm">
		<security https="false" auth="false"/>
		<event type="service" invoke="bizSettlementConfirm" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 商户 获取待确认结算信息 接口 -->
	<request-map uri="bizGetUnconfirmedSettlementInfo">
		<security https="false" auth="false"/>
		<event type="service" invoke="bizGetUnconfirmedSettlementInfo" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 商户 催款，提醒圈主进行结算 接口 -->
	<request-map uri="bizSettlementRequest">
		<security https="false" auth="false"/>
		<event type="service" invoke="bizSettlementRequest" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

    <!-- 商户上传图片服务 -->
    <request-map uri="upload">
        <security https="false" auth="false"/>
		<event type="service" invoke="upload" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
    </request-map>

	<!-- 商户上传图片服务 new-->
    <request-map uri="bizUploadStoreInfoImg">
        <security https="false" auth="false"/>
		<event type="service" invoke="bizUploadStoreInfoImg" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
    </request-map>

	<!-- 店铺信息 -->
	<request-map uri="userGetStoreInfo">
		<security https="false" auth="false"/>
		<event type="service" invoke="userGetStoreInfo" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 圈子信息 -->
	<request-map uri="userGetGroupInfo">
		<security https="false" auth="false"/>
		<event type="service" invoke="userGetGroupInfo" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 获取卡接口 -->
	<request-map uri="getPaymentCard">
		<security https="false" auth="false"/>
		<event type="service" invoke="getPaymentCard" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 查找附件的店 -->
	<request-map uri="userStoreListLBS">
		<!--<security https="true" auth="false" />-->
		<event type="service" invoke="userStoreListLBS" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 用户扫码获取商家信息和卡列表 -->
	<request-map uri="userScanCodeGetCardAndStoreInfo">
		<!--<security https="true" auth="false" />-->
		<event type="service" invoke="userScanCodeGetCardAndStoreInfo" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 通过卡号获取店铺信息 -->
	<request-map uri="getStoreInfoByCardId">
		<!--<security https="true" auth="false" />-->
		<event type="service" invoke="getStoreInfoByCardId" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 用户获取付款码-->
	<request-map uri="getPaymentQRCode">
		<!--<security https="true" auth="false" />-->
		<event type="service" invoke="getPaymentQRCode" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 购买卡-->
	<request-map uri="purchaseCard">
		<!--<security https="true" auth="false" />-->
		<event type="service" invoke="purchaseCard" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- C端根据店铺Id获取商户信息和卡列表-->
	<request-map uri="getCardAndStoreInfoByStoreId">
		<!--<security https="true" auth="false" />-->
		<event type="service" invoke="getCardAndStoreInfoByStoreId" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- C端根据店铺名获取商户信息和卡列表-->
	<request-map uri="getCardAndStoreInfoByStoreName">
		<!--<security https="true" auth="false" />-->
		<event type="service" invoke="getCardAndStoreInfoByStoreName" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>



	<!-- C端获取用户自己的积分和会员等级-->
	<request-map uri="getUserLevelAndScore">
		<security https="false" auth="false"/>
		<event type="service" invoke="getUserLevelAndScore" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 获取地市级-->
	<request-map uri="getProvinceOrCityOrArea">
		<!--<security https="true" auth="false" />-->
		<event type="service" invoke="getProvinceOrCityOrArea" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 无卡消费发送验证码-->
	<request-map uri="getPayCaptchaOfUser">
		<!--<security https="true" auth="false" />-->
		<event type="service" invoke="getPayCaptchaOfUser" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 无卡消费获取用户卡-->
	<request-map uri="getCloudcardsOfUser">
		<!--<security https="true" auth="false" />-->
		<event type="service" invoke="getCloudcardsOfUser" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 无卡消费收款-->
	<request-map uri="bizByTeleNumberWithdraw">
		<!--<security https="true" auth="false" />-->
		<event type="service" invoke="bizByTeleNumberWithdraw" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 无卡消费充值-->
	<request-map uri="bizByTeleNumberRecharge">
		<!--<security https="true" auth="false" />-->
		<event type="service" invoke="bizByTeleNumberRecharge" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 我的消息接口-->
	<request-map uri="listMyNote">
		<!--<security https="true" auth="false" />-->
		<event type="service" invoke="listMyNote" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 我的历史消息接口-->
	<request-map uri="listMyHistoryNote">
		<!--<security https="true" auth="false" />-->
		<event type="service" invoke="listMyHistoryNote" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 标记消息已读接口-->
	<request-map uri="readMyNote">
		<!--<security https="true" auth="false" />-->
		<event type="service" invoke="readMyNote" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 标记消息已删除接口-->
	<request-map uri="deleteMyNote">
		<!--<security https="true" auth="false" />-->
		<event type="service" invoke="deleteMyNote" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 上传图片 -->
	<request-map uri="uploadPictureWall">
		<event type="java" path="com.banfftech.cloudcard.util.UtilFileUpload" invoke="uploadPictureWall"></event>
		<response name="success" type="none"/>
	</request-map>

	<!-- 商家删除图片 -->
	<request-map uri="bizDeleteStoreInfoImg">
		<event type="service" invoke="bizDeleteStoreInfoImg" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 商家删除图片 -->
	<request-map uri="getUesrInfo">
		<event type="service" invoke="getUesrInfo" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 用户获取个人信息 -->
	<request-map uri="updateUesrInfo">
		<event type="service" invoke="updateUesrInfo" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 商家获取已开卡列表 -->
	<request-map uri="getCloudCardByBiz">
		<event type="service" invoke="getCloudCardByBiz" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 商家申请二级商家 -->
	<request-map uri="bizCreateApplyVIP">
		<event type="service" invoke="bizCreateApplyVIP" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 获取下级geo列表 -->
	<request-map uri="getAssociatedGeoList">
		<event type="service" invoke="getAssociatedGeoList" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 商家获取卡消费详情-->
	<request-map uri="getUserPaymentBybiz">
		<event type="service" invoke="getUserPaymentBybiz" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 收款方向付款方发起结算催款请求-->
	<request-map uri="initiateSettlement">
		<event type="service" invoke="initiateSettlement" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 付款方向收款方收款方发起结算确认请求-->
	<request-map uri="settlementRequest">
		<event type="service" invoke="settlementRequest" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 收款方对付款方结算确认-->
	<request-map uri="bizListNeedSettlement">
		<event type="service" invoke="bizListNeedSettlement" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>


	<!-- 收卡商家查询待结算列表-->
	<request-map uri="settlementConfirmation">
		<event type="service" invoke="settlementConfirmation" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 商家设置结算时间-->
	<request-map uri="bizSetCloudcardSettlementPeriod">
		<event type="service" invoke="bizSetCloudcardSettlementPeriod" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 商家查询结算时间-->
	<request-map uri="bizGetCloudcardSettlementPeriod">
		<event type="service" invoke="bizGetCloudcardSettlementPeriod" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 商家查询结算时间-->
	<request-map uri="userLogout">
		<event type="service" invoke="userLogout" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 根据城市名获取城市列表 -->
	<request-map uri="getCityOrAreaByCityName">
		<event type="service" invoke="getCityOrAreaByCityName" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 根据geoId获取下级城市列表 -->
	<request-map uri="getCityOrAreaByGeoId">
		<event type="service" invoke="getCityOrAreaByGeoId" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 根据geoId查询店家信息 -->
	<request-map uri="getCloudcardStoreByGeoId">
		<event type="service" invoke="getCloudcardStoreByGeoId" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 我的信用等级 -->
	<request-map uri="bizGetMyStorelevel">
		<event type="service" invoke="bizGetMyStorelevel" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 上传用户头像 -->
	<request-map uri="userUploadAvatar">
		<event type="service" invoke="userUploadAvatar" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 删除用户头像 -->
	<request-map uri="userDelAvatar">
		<event type="service" invoke="userDelAvatar" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 获取无卡开卡验证码 -->
	<request-map uri="getPurchaseCardCaptchaOfUser">
		<event type="service" invoke="getPurchaseCardCaptchaOfUser" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 获取无卡充值验证码 -->
	<request-map uri="getRechargeCaptchaOfUser">
		<event type="service" invoke="getRechargeCaptchaOfUser" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 无卡开卡接口 -->
	<request-map uri="activateCloudCardAndRechargeByTelNumber">
		<event type="service" invoke="activateCloudCardAndRechargeByTelNumber" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- note信息明细 -->
	<request-map uri="bizGetNodeDetailed">
		<event type="service" invoke="bizGetNodeDetailed" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 商家开店获取验证码 -->
	<request-map uri="getCreateStoreCaptcha">
		<event type="service" invoke="getCreateStoreCaptcha" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>
	
	<!-- 商家登录获取验证码 -->
	<request-map uri="getBizLoginCaptcha">
		<event type="service" invoke="getBizLoginCaptcha" />
		<response name="success" type="request" value="json" />
		<response name="error" type="request" value="json" />
	</request-map>

	<!-- 后台页面部分 Request Mappings -->

	<request-map uri="main">
		<security https="true" auth="true" />
		<response name="success" type="view" value="main" />
	</request-map>

	<!-- 查询开店申请 -->
	<request-map uri="findCreateStoreApply">
		<security https="true" auth="true" />
		<response name="success" type="view" value="findCreateStoreApply" />
		<response name="error" type="view" value="findCreateStoreApply" />
	</request-map>
	<!-- 查询圈子列表 -->
	<request-map uri="findCloudCardGroup">
		<security https="true" auth="true" />
		<response name="success" type="view" value="findCloudCardGroup" />
		<response name="error" type="view" value="findCloudCardGroup" />
	</request-map>
	<!-- 查询商家列表 -->
	<request-map uri="findCloudCardStore">
		<security https="true" auth="true" />
		<response name="success" type="view" value="findCloudCardStore" />
		<response name="error" type="view" value="findCloudCardStore" />
	</request-map>

	<!-- 新增/修改商家页面 -->
	<request-map uri="EditCloudCardStore">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="EditCloudCardStore"/>
    </request-map>
    <!-- 创建商家信息 -->
  	<request-map uri="createCloudCardStore">
        <security https="true" auth="true"/>
        <event type="service" invoke="createCloudCardStore"/>
        <response name="success" type="request-redirect-noparam" value="findCloudCardStore"/>
        <response name="error" type="request-redirect-noparam" value="findCloudCardStore"/>
    </request-map>
    <!-- 修改商家信息 -->
    <request-map uri="updateCloudCardStore">
        <security https="true" auth="true"/>
        <event type="service" invoke="updateCloudCardStore"/>
        <response name="success" type="request-redirect-noparam" value="findCloudCardStore"/>
        <response name="error" type="request-redirect-noparam" value="findCloudCardStore"/>
    </request-map>

	<!-- 制卡-->
	<request-map uri="genNewCloudCardCode">
		<security https="true" auth="true" />
		<event type="service" invoke="genNewCloudCardCode"/>
		<response name="success" type="request-redirect" value="findCard">
			<redirect-parameter name="distributorPartyId" from="organizationPartyId"/>
			<redirect-parameter name="finAccountName"/>
			<redirect-parameter name="statusId" value="FNACT_CREATED"/>
		</response>
		<response name="error" type="request-redirect-noparam" value="createCard"></response>
	</request-map>

	<!-- 查询商家 已生成的卡-->
	<request-map uri="findCard">
		<security https="true" auth="true" />
		<response name="success" type="view" value="findCard" />
		<response name="error" type="view" value="findCard" />
	</request-map>

	<!-- 商家创建卡页面 -->
	<request-map uri="createCard">
		<security https="true" auth="true" />
		<response name="success" type="view" value="createCard" />
	</request-map>

    <!-- 导出卡 -->
	<request-map uri="exportCardExcel">
		<event type="java" path="com.banfftech.cloudcard.CloudCardQueryServices" invoke="exportCardExcel"></event>
		<response name="success" type="none"/>
		<response name="error" type="request-redirect-noparam" value="findCard"/>
	</request-map>

    <!-- 商家结算页面 -->
	<request-map uri="settlement">
		<security https="true" auth="true" />
		<response name="success" type="view" value="settlement" />
		<response name="error" type="view" value="settlement" />
	</request-map>

	<!-- 进行结算 -->
	<request-map uri="doSettlement">
		<security https="true" auth="true" />
		<event type="service" invoke="doSettlement"/>
		<response name="success" type="request-redirect-noparam" value="settlement" />
		<response name="error" type="request-redirect-noparam" value="settlement" />
	</request-map>

	<!-- 商家跨店交易记录 -->
	<request-map uri="crossStorePayment">
		<security https="true" auth="true" />
		<response name="success" type="view" value="crossStorePayment" />
		<response name="error" type="view" value="crossStorePayment" />
	</request-map>

	<!-- 结算历史记录 -->
	<request-map uri="settlementHistory">
		<security https="true" auth="true" />
		<response name="success" type="view" value="settlementHistory" />
		<response name="error" type="view" value="settlementHistory" />
	</request-map>


	<request-map uri="LookupCloudCardSeller">
		<security auth="true" https="true"/>
		<response name="success" type="view" value="LookupCloudCardSeller"/>
	</request-map>
	<request-map uri="LookupCustomerName">
		<security auth="true" https="true"/>
		<response name="success" type="view" value="LookupCustomerName"/>
	</request-map>


	<!-- View Mappings -->
	<view-map name="main" type="screen" page="component://cloudcard/widget/CloudCardScreens.xml#main" />

	<view-map name="findCreateStoreApply" type="screen" page="component://cloudcard/widget/CloudCardScreens.xml#findCreateStoreApply" />
	<view-map name="findCloudCardGroup" type="screen" page="component://cloudcard/widget/CloudCardScreens.xml#findCloudCardGroup" />
	<view-map name="findCloudCardStore" type="screen" page="component://cloudcard/widget/CloudCardScreens.xml#findCloudCardStore" />
	<view-map name="EditCloudCardStore" type="screen" page="component://cloudcard/widget/CloudCardScreens.xml#EditCloudCardStore"/>

	<view-map name="findCard" type="screen" page="component://cloudcard/widget/CloudCardScreens.xml#findCard" />
	<view-map name="createCard" type="screen" page="component://cloudcard/widget/CloudCardScreens.xml#createCard" />
	<view-map name="settlement" type="screen" page="component://cloudcard/widget/CloudCardScreens.xml#settlement" />
	<view-map name="crossStorePayment" type="screen" page="component://cloudcard/widget/CloudCardScreens.xml#crossStorePayment" />
	<view-map name="settlementHistory" type="screen" page="component://cloudcard/widget/CloudCardScreens.xml#settlementHistory" />

	<view-map name="LookupCustomerName" type="screen" page="component://party/widget/partymgr/LookupScreens.xml#LookupCustomerName"/>
	<view-map name="LookupCloudCardSeller" type="screen" page="component://cloudcard/widget/CloudCardScreens.xml#LookupCloudCardSeller"/>

</site-conf>