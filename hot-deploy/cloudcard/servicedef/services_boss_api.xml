<?xml version="1.0" encoding="UTF-8"?>
<services xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/services.xsd">
    <description>cloudcard Services</description>
    <vendor></vendor>
    <version>1.0</version>

	<service name="bizAppLogin" engine="java"
		location="com.banfftech.cloudcard.sms.SmsServices" invoke="bizAppLogin" auth="false">
		<description>商家手机登录</description>
		<attribute name="teleNumber" type="String" mode="IN" optional="false"/>
		<attribute name="captcha" type="String" mode="IN" optional="false"/>
		<attribute name="token" type="String" mode="OUT" optional="true"/>
		<attribute name="organizationPartyId" type="String" mode="OUT" optional="true"/>
	</service>

	<service name="getBizPayment" engine="java"
		location="com.banfftech.cloudcard.CloudCardQueryServices" invoke="getBizPayment" auth="true">
		<description>查询商户交易流水</description>
		<attribute name="organizationPartyId" type="String" mode="IN" optional="false"/>
		<attribute name="viewIndex" type="Integer" mode="IN" optional="true" default-value="0"/>
		<attribute name="viewSize" type="Integer" mode="IN" optional="true" default-value="20"/>
		<attribute name="type" type="String" mode="IN" optional="true"/>
		<attribute name="paymentList" type="List" mode="OUT" optional="false"/>
		<attribute name="totalPage" type="Integer" mode="OUT" optional="false"/>
	</service>

	<service name="activateCloudCardAndRecharge" engine="java"
		location="com.banfftech.cloudcard.CloudCardServices" invoke="activateCloudCardAndRecharge" auth="true">
		<description>
			开卡(激活)充值统一接口， 根据cardCode查询卡信息，如果已经激活直接充值，没激活先激活再充值，激活需要teleNumber
		</description>
		<attribute name="organizationPartyId" type="String" mode="IN" optional="false"><description>店家partyId</description></attribute>
		<attribute name="teleNumber" type="String" mode="IN" optional="true"><description>客户手机号码</description></attribute>
		<attribute name="cardCode" type="String" mode="IN" optional="false"><description>卡二维码、条码等唯一标识数据</description></attribute>
		<attribute name="amount" type="BigDecimal" mode="INOUT" optional="false"><description>充值金额</description></attribute>

		<attribute name="cardId" type="String" mode="OUT" optional="false"><description>卡Id</description></attribute>
		<attribute name="customerPartyId" type="String" mode="OUT" optional="false"><description>客户partyId</description></attribute>
		<attribute name="cardBalance" type="BigDecimal" mode="OUT" optional="false"><description>可用余额</description></attribute>
	</service>

	<service name="receiptByCardCode" engine="java"
		location="com.banfftech.cloudcard.CloudCardServices" invoke="receiptByCardCode" auth="true">
		<description>云卡商家扫卡二维码收款</description>
		<attribute name="organizationPartyId" type="String" mode="IN" optional="false"><description>商家partyId</description></attribute>
		<attribute name="cardCode" type="String" mode="IN" optional="false"><description>卡二维码、条码等唯一标识数据</description></attribute>
		<attribute name="amount" type="BigDecimal" mode="INOUT" optional="false"><description>支付金额</description></attribute>

		<attribute name="cardId" type="String" mode="OUT" optional="true"><description>卡Id</description></attribute>
		<attribute name="cardBalance" type="BigDecimal" mode="OUT" optional="false"><description>可用余额</description></attribute>
		<attribute name="customerPartyId" type="String" mode="OUT" optional="false"><description>客户partyId</description></attribute>
	</service>


	<service name="getCardInfoByCode" engine="java"
		location="com.banfftech.cloudcard.CloudCardQueryServices" invoke="getCardInfoByCode" auth="true">
		<description>根据二维码查询卡信息</description>
		<attribute name="organizationPartyId" type="String" mode="IN" optional="false"><description>店家partyId</description></attribute>
		<attribute name="cardCode" type="String" mode="INOUT" optional="false"><description>卡二维码、条码等唯一标识数据</description></attribute>

		<attribute name="isActivated" type="String" mode="OUT" optional="false"><description>此卡是否已开通（激活）</description></attribute>
		<attribute name="cardId" type="String" mode="OUT" optional="true"><description>卡Id</description></attribute>
		<attribute name="cardName" type="String" mode="OUT" optional="true"><description>卡名</description></attribute>
		<attribute name="cardImg" type="String" mode="OUT" optional="true"><description>卡图片地址</description></attribute>
		<attribute name="cardBalance" type="BigDecimal" mode="OUT" optional="true"><description>可用余额</description></attribute>
		<attribute name="distributorPartyId" type="String" mode="OUT" optional="true"><description>发卡商家partyId</description></attribute>
		<attribute name="customerPartyId" type="String" mode="OUT" optional="true"><description>客户partyId</description></attribute>
		<attribute name="ownerPartyId" type="String" mode="OUT" optional="true"><description>原卡主partyId</description></attribute>
	</service>

	<service name="getLimitAndPresellInfo" engine="java"
		location="com.banfftech.cloudcard.CloudCardQueryServices" invoke="getLimitAndPresellInfo" auth="true">
		<description>查询开卡额度和已卖卡金额信息</description>
		<attribute name="organizationPartyId" type="String" mode="IN" optional="false"><description>店家partyId</description></attribute>
		<attribute name="presellAmount" type="BigDecimal" mode="OUT" optional="false"><description>已卖卡总额</description></attribute>
		<attribute name="limitAmount" type="BigDecimal" mode="OUT" optional="false"><description>卖卡额度</description></attribute>
		<attribute name="balance" type="BigDecimal" mode="OUT" optional="false"><description>卖卡余额</description></attribute>
		<attribute name="liabilities" type="BigDecimal" mode="OUT" optional="false"><description>负债，所有客户手中卡内总金额</description></attribute>
		<attribute name="settlementAmount" type="BigDecimal" mode="OUT" optional="false">
			<description>待结算金额，负数表示需要付给平台，正数表示平台需要付给商家</description>
		</attribute>
	</service>



	<service name="bizCreateApply" engine="java"
		location="com.banfftech.cloudcard.CloudCardBossServices" invoke="bizCreateApply" auth="false">
		<description>商家开通申请</description>
		<attribute name="storeName" type="String" mode="IN" optional="false"><description>店名</description></attribute>
		<attribute name="storeAddress" type="String" mode="IN" optional="false"><description>商铺详细地址</description></attribute>
		<attribute name="teleNumber" type="String" mode="IN" optional="false"><description>店主电话</description></attribute>
		<attribute name="personName" type="String" mode="IN" optional="true"><description>店主姓名</description></attribute>
		<attribute name="description" type="String" mode="IN" optional="true"><description>店铺描述</description></attribute>
		<attribute name="longitude" type="String" mode="IN" optional="true"><description>经度</description></attribute>
		<attribute name="latitude" type="String" mode="IN" optional="true"><description>纬度</description></attribute>

		<attribute name="responseId" type="String" mode="OUT" optional="true"><description>受理id，可用于后台查询</description></attribute>

	</service>

	<service name="bizCreateGroup" engine="java"
		location="com.banfftech.cloudcard.CloudCardBossServices" invoke="bizCreateGroup" auth="true">
		<description>商家创建圈子</description>
		<attribute name="organizationPartyId" type="String" mode="IN" optional="false"><description>店家partyId</description></attribute>
		<attribute name="groupName" type="String" mode="INOUT" optional="true"><description>要创建的圈子名</description></attribute>

		<attribute name="groupId" type="String" mode="OUT" optional="false"><description>圈子id</description></attribute>
	</service>

	<service name="bizSentGroupInvitation" engine="java"
		location="com.banfftech.cloudcard.CloudCardBossServices" invoke="bizSentGroupInvitation" auth="true">
		<description>邀请商家加入圈子,单个邀请</description>
		<attribute name="organizationPartyId" type="String" mode="IN" optional="false"><description>店家Id（自己的商家id）</description></attribute>
		<attribute name="teleNumber" type="String" mode="IN" optional="false"><description>要邀请加入圈子的店主teleNumber</description></attribute>
	
		<attribute name="groupId" type="String" mode="OUT" optional="false"><description>圈子id</description></attribute>
		<attribute name="partyInvitationId" type="String" mode="OUT" optional="true"><description>邀请id</description></attribute>
	</service>

	<service name="bizAcceptGroupInvitation" engine="java"
		location="com.banfftech.cloudcard.CloudCardBossServices" invoke="bizAcceptGroupInvitation" auth="true">
		<description>邀请商家加入圈子,单个邀请</description>
		<attribute name="organizationPartyId" type="String" mode="IN" optional="false"><description>店家Id（自己的商家id）</description></attribute>
		<attribute name="partyInvitationId" type="String" mode="INOUT" optional="false"><description>要邀接收的邀请id</description></attribute>
		<attribute name="isAccept" type="String" mode="INOUT" optional="true" default-value="Y"><description>是否接收 Y/N  Y 接受邀请，N 拒绝邀请</description></attribute>

	</service>
	
	<service name="bizMyGroup" engine="java"
		location="com.banfftech.cloudcard.CloudCardBossServices" invoke="bizMyGroup" auth="true">
		<description>我的圈子</description>
		<attribute name="organizationPartyId" type="String" mode="IN" optional="false"><description>店家partyId</description></attribute>
		<attribute name="viewIndex" type="Integer" mode="IN" optional="true" default-value="0"><description>圈友列表页码</description></attribute>
		<attribute name="viewSize" type="Integer" mode="IN" optional="true" default-value="20"><description>圈友列表页大小</description></attribute>

		<attribute name="isJoinGroup" type="String" mode="OUT" optional="false"><description>是否已加入圈子 Y/N</description></attribute>
		<attribute name="isGroupOwner" type="String" mode="OUT" optional="true"  default-value="N"><description>是否为圈主 Y/N</description></attribute>
		<attribute name="groupId" type="String" mode="OUT" optional="true"><description>圈子id</description></attribute><!-- 需要输出吗？App拿这个来干什么呢？ -->
		<attribute name="groupName" type="String" mode="OUT" optional="true"><description>圈子名称</description></attribute>

		<attribute name="crossStoreAmount" type="BigDecimal" mode="OUT" optional="true"><description>圈主特有字段：跨店消费额，圈主卡 到 圈友店 消费总额，</description></attribute>
		<attribute name="presellAmount" type="BigDecimal" mode="OUT" optional="true"><description>圈主特有字段：已卖卡总额，圈主卖出的卡总金额，</description></attribute>
		<attribute name="totalConsumptionAmount" type="BigDecimal" mode="OUT" optional="true"><description>圈主特有字段：已消费总额，圈主本店消费 + 到圈友店里跨店消费，</description></attribute>
		<attribute name="balance" type="BigDecimal" mode="OUT" optional="true"><description>圈主特有字段：剩余额度，剩余卖卡额度，</description></attribute>
		<attribute name="income" type="BigDecimal" mode="OUT" optional="true"><description>圈主特有字段：收益总额，因为跨店消费的圈主给圈友的打折而产生的收益总额，</description></attribute>
		<!-- [ { partyIdFrom: xxx, fromName: xxx, partyInvitationId: xxx } ] -->
		<attribute name="invitations" type="List" mode="OUT" optional="true"><description>邀请加入圈子的列表，isJoinGroup为N的前提下，如果某个店家邀请本店加入圈子，则返回此列表</description></attribute>

		<!-- [ { storeName: xxx, storeId: xxx, isGroupOwner: Y/N, storeImg :xxx, isFrozen: Y/N } ] -->
		<attribute name="partners" type="List" mode="OUT" optional="true"><description>圈友列表</description></attribute>
		<attribute name="listSize" type="Integer" mode="OUT" optional="true" default-value="0"><description>圈友列表大小</description></attribute>

	</service>
	
	<service name="bizExitGroup" engine="java"
		location="com.banfftech.cloudcard.CloudCardBossServices" invoke="bizExitGroup" auth="true">
		<description>圈友退出圈子、圈主踢出圈友</description>
		<attribute name="organizationPartyId" type="String" mode="IN" optional="false"><description>店家Id（自己的商家id）</description></attribute>
		<attribute name="storeId" type="String" mode="IN" optional="true"><description>传入此字段时：表示圈友要踢出storeId这个圈友</description></attribute>

	</service>

	<service name="bizFreezeGroupPartner" engine="java"
		location="com.banfftech.cloudcard.CloudCardBossServices" invoke="bizFreezeGroupPartner" auth="true">
		<description>圈主冻结/解冻圈友</description>
		<attribute name="organizationPartyId" type="String" mode="IN" optional="false"><description>店家Id（自己的商家id）</description></attribute>
		<attribute name="storeId" type="String" mode="INOUT" optional="false"><description>要冻结/解冻的圈友id</description></attribute>
		<attribute name="isFrozen" type="String" mode="OUT" optional="true"><description>是否冻结 Y/N</description></attribute>
	</service>

	<service name="bizDissolveGroup" engine="java"
		location="com.banfftech.cloudcard.CloudCardBossServices" invoke="bizDissolveGroup" auth="true">
		<description>圈主解散圈子</description>
		<attribute name="organizationPartyId" type="String" mode="IN" optional="false"><description>店家Id（自己的商家id）</description></attribute>
	</service>

	<service name="bizGetStoreInfo" engine="java"
		location="com.banfftech.cloudcard.CloudCardBossServices" invoke="bizGetStoreInfo" auth="true">
		<description>B端 查看店铺简要信息接口</description>
		<attribute name="organizationPartyId" type="String" mode="IN" optional="false"><description>店家Id（自己的商家id）</description></attribute>

		<attribute name="storeId" type="String" mode="INOUT" optional="false"><description>要冻结/解冻的圈友id</description></attribute>

		<attribute name="storeName" type="String" mode="OUT" optional="true"><description>店名</description></attribute>
		<attribute name="storeImg" type="String" mode="OUT" optional="true"><description>店铺logo图片</description></attribute>
		<attribute name="storeAddress" type="String" mode="OUT" optional="true"><description>店铺地址</description></attribute>
		<attribute name="storeTeleNumber" type="String" mode="OUT" optional="true"><description>店铺联系电话</description></attribute>
		<attribute name="settlementAmount" type="BigDecimal" mode="OUT" optional="true" default-value="0"><description>待结算金额</description></attribute>
		<attribute name="isJoinGroup" type="String" mode="OUT" optional="true"><description>是否已加入圈子</description></attribute>
		<attribute name="isGroupOwner" type="String" mode="OUT" optional="true"><description>是否为圈主</description></attribute>
		<attribute name="isFrozen" type="String" mode="OUT" optional="true"><description>是否已冻结的圈友</description></attribute>
	</service>

	<service name="bizDoSettlement" engine="java"
		location="com.banfftech.cloudcard.CloudCardBossServices" invoke="bizDoSettlement" auth="true">
		<description>B端 圈主发起结算接口，需要等待圈友确认结算后，才会真正结算</description>
		<attribute name="organizationPartyId" type="String" mode="IN" optional="false"><description>店家Id（自己的商家id）</description></attribute>
		<attribute name="storeId" type="String" mode="IN" optional="false"><description>要结算的圈友id</description></attribute>
		<attribute name="settlementAmount" type="BigDecimal" mode="INOUT" optional="true" default-value="0"><description>待结算金额</description></attribute>
		<attribute name="actualSettlementAmount" type="BigDecimal" mode="INOUT" optional="true" default-value="0"><description>实际结算金额，本次结算店家线下实际支付的结算金额</description></attribute>

		<attribute name="settlementId" type="String" mode="OUT" optional="false"><description>结算id</description></attribute>
	</service>

	<service name="bizSettlementConfirm" engine="java"
		location="com.banfftech.cloudcard.CloudCardBossServices" invoke="bizSettlementConfirm" auth="true">
		<description>B端 圈友确认/拒绝结算</description>
		<attribute name="organizationPartyId" type="String" mode="IN" optional="false"><description>店家Id（自己的商家id）</description></attribute>
		<attribute name="settlementId" type="String" mode="INOUT" optional="false"><description>圈主发起的结算id</description></attribute>
		<attribute name="isConfirm" type="String" mode="INOUT" optional="true" default-value="Y"><description>是否确认 Y/N</description></attribute>
		<attribute name="settlementAmount" type="BigDecimal" mode="OUT" optional="true" default-value="0"><description>待结算金额</description></attribute>
		<attribute name="actualSettlementAmount" type="BigDecimal" mode="OUT" optional="true" default-value="0"><description>实际结算金额，本次结算店家线下实际支付的结算金额</description></attribute>
	</service>
	
	<service name="bizGetUnconfirmedSettlementInfo" engine="java"
		location="com.banfftech.cloudcard.CloudCardBossServices" invoke="bizGetUnconfirmedSettlementInfo" auth="true">
		<description>B端 获取待确认结算信息</description>
		<attribute name="organizationPartyId" type="String" mode="IN" optional="false"><description>店家Id（自己的商家id）</description></attribute>
		<attribute name="storeId" type="String" mode="IN" optional="true"><description>结算的圈友partyId，圈主发起查询时，需要传入</description></attribute>
		
		<attribute name="settlementId" type="String" mode="OUT" optional="true"><description>还未确认的结算id</description></attribute>
		<attribute name="settlementAmount" type="BigDecimal" mode="OUT" optional="true" default-value="0"><description>待结算金额</description></attribute>
		<attribute name="actualSettlementAmount" type="BigDecimal" mode="OUT" optional="true" default-value="0"><description>实际结算金额，本次结算店家线下实际支付的结算金额</description></attribute>
	</service>
	
	<service name="bizSettlementRequest" engine="java"
		location="com.banfftech.cloudcard.CloudCardBossServices" invoke="bizSettlementRequest" auth="true">
		<description>B端 催款，提醒圈主进行结算</description>
		<attribute name="organizationPartyId" type="String" mode="IN" optional="false"><description>店家Id（自己的商家id）</description></attribute>
	</service>
	
	<service name="getPayCaptchaOfUser" engine="java"
		location="com.banfftech.cloudcard.CloudCardBossServices" invoke="getPayCaptchaOfUser" auth="true">
		<description>无卡消费短信通知C端</description>
		<attribute name="teleNumber" type="String" mode="INOUT" optional="false"><description>顾客电话号码</description></attribute>
		<attribute name="amount" type="String" mode="INOUT" optional="false"><description>消费金额</description></attribute>
		<attribute name="status" type="String" mode="OUT" optional="false"><description>短信发送状态</description></attribute>
	</service>
	
	<service name="getCloudcardsOfUser" engine="java"
		location="com.banfftech.cloudcard.CloudCardBossServices" invoke="getCloudcardsOfUser" auth="true">
		<description>根据电话号码获取用户卡包</description>
		<attribute name="viewIndex" type="Integer" mode="IN" optional="true" default-value="0"/>
		<attribute name="viewSize" type="Integer" mode="IN" optional="true" default-value="20"/>
		<attribute name="teleNumber" type="String" mode="INOUT" optional="false"><description>顾客电话号码</description></attribute>
		<attribute name="amount" type="String" mode="INOUT" optional="false"><description>消费金额</description></attribute>
		<attribute name="listSize" type="Integer" mode="OUT" optional="false"/>
		<attribute name="cloudCardList" type="List" mode="OUT" optional="false"/>
	</service>
	
	<service name="receiptByCardId" engine="java"
		location="com.banfftech.cloudcard.CloudCardBossServices" invoke="receiptByCardId" auth="true">
		<description>无卡消费收款</description>
		<attribute name="organizationPartyId" type="String" mode="IN" optional="false"/>
		<attribute name="cardId" type="String" mode="IN" optional="false"/>
		<attribute name="captcha" type="String" mode="IN" optional="false"/>
		<attribute name="teleNumber" type="String" mode="INOUT" optional="false"/>
		<attribute name="amount" type="BigDecimal" mode="INOUT" optional="false"/>
		
		<attribute name="cardId" type="String" mode="OUT" optional="true"><description>卡Id</description></attribute>
		<attribute name="cardBalance" type="BigDecimal" mode="OUT" optional="false"><description>可用余额</description></attribute>
		<attribute name="customerPartyId" type="String" mode="OUT" optional="false"><description>客户partyId</description></attribute>	
	</service>
	
	<service name="rechargeCloudCardByCardId" engine="java"
            location="com.banfftech.cloudcard.CloudCardBossServices" invoke="rechargeCloudCardByCardId" auth="true">
        <description>无卡消费充值</description>
        <attribute name="organizationPartyId" type="String" mode="IN" optional="false"><description>店家partyId</description></attribute>
        <attribute name="teleNumber" type="String" mode="INOUT" optional="false"><description>电话号码</description></attribute>
        <attribute name="amount" type="BigDecimal" mode="INOUT" optional="false"><description>充值金额</description></attribute>

        <attribute name="cardCode" type="String" mode="OUT" optional="false"><description>客户partyId</description></attribute>
        <attribute name="customerPartyId" type="String" mode="OUT" optional="false"><description>客户partyId</description></attribute>
        <attribute name="actualBalance" type="BigDecimal" mode="OUT" optional="false"><description>可用余额</description></attribute>
	</service>
</services>