<?xml version="1.0" encoding="UTF-8"?>
<services xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/services.xsd">
    <description>cloudcard Services</description>
    <vendor></vendor>
    <version>1.0</version>

	<service name="userAppLogin" engine="java"
		location="com.banfftech.cloudcard.sms.SmsServices" invoke="userAppLogin" auth="false">
		<description>用户手机登录</description>
		<attribute name="teleNumber" type="String" mode="IN" optional="false"/>
		<attribute name="captcha" type="String" mode="IN" optional="false"/>
		<attribute name="token" type="String" mode="OUT" optional="true"/>
		<attribute name="organizationPartyId" type="String" mode="OUT" optional="true"/>
	</service>

	<service name="myCloudCards" engine="java"
		location="com.banfftech.cloudcard.CloudCardQueryServices" invoke="myCloudCards" auth="true">
		<description>查询用户卡列表</description>
		<attribute name="viewIndex" type="Integer" mode="IN" optional="true" default-value="0"/>
		<attribute name="viewSize" type="Integer" mode="IN" optional="true" default-value="20"/>
		<attribute name="storeId" type="String" mode="IN" optional="true"/>
		<attribute name="cloudCardList" type="List" mode="OUT" optional="false"/>
		<attribute name="listSize" type="Integer" mode="OUT" optional="false"/>
	</service>

	<service name="getUserPayment" engine="java"
		location="com.banfftech.cloudcard.CloudCardQueryServices" invoke="getUserPayment" auth="true">
		<description>查询客户交易流水</description>
		<attribute name="viewIndex" type="Integer" mode="IN" optional="true" default-value="0"/>
		<attribute name="viewSize" type="Integer" mode="IN" optional="true" default-value="20"/>
		<attribute name="cardId" type="String" mode="IN" optional="true"/>
		<attribute name="type" type="String" mode="IN" optional="true"/>
		<attribute name="paymentList" type="List" mode="OUT" optional="false"/>
		<attribute name="totalPage" type="Integer" mode="OUT" optional="false"/>
	</service>

	<service name="createCardAuth" engine="java"
		location="com.banfftech.cloudcard.CloudCardServices" invoke="createCardAuth" auth="true">
		<description>云卡授权</description>
		<attribute name="teleNumber" type="String" mode="IN" optional="false"><description>客户手机号码</description></attribute>
		<attribute name="cardId" type="String" mode="IN" optional="false"><description>卡Id</description></attribute>
		<attribute name="amount" type="BigDecimal" mode="IN" optional="true"><description>授权金额</description></attribute>
		<attribute name="fromDate" type="Timestamp" mode="IN" optional="true"><description>授权开始时间，默认当天开始</description></attribute>
		<attribute name="thruDate" type="Timestamp" mode="IN" optional="true"><description>授权结束时间</description></attribute>
		<attribute name="days" type="Integer" mode="IN" optional="true"><description>授权几天</description></attribute>
		<attribute name="customerPartyId" type="String" mode="OUT" optional="false"><description>客户partyId</description></attribute>
	</service>

	<service name="revokeCardAuth" engine="java"
		location="com.banfftech.cloudcard.CloudCardServices" invoke="revokeCardAuth" auth="true">
		<description>撤销云卡授权</description>
		<attribute name="cardId" type="String" mode="IN" optional="false"><description>要解除授权的卡Id</description></attribute>
	</service>

	<service name="customerWithdraw" engine="java"
		location="com.banfftech.cloudcard.CloudCardServices" invoke="customerWithdraw" auth="true">
		<description>客户付款，比如扫商家二维码进行付款</description>
		<attribute name="storeId" type="String" mode="IN" optional="true"><description>商家partyId，若与qrCode同时输入，优先使用这个</description></attribute>
		<attribute name="qrCode" type="String" mode="IN" optional="true"><description>商家二维码</description></attribute>
		<attribute name="amount" type="BigDecimal" mode="INOUT" optional="false"><description>支付金额</description></attribute>
		<attribute name="cardId" type="String" mode="INOUT" optional="false"><description>卡Id</description></attribute>

		<attribute name="storeId" type="String" mode="OUT" optional="false"><description>商家partyId</description></attribute>
		<attribute name="storeName" type="String" mode="OUT" optional="false"><description>商家名</description></attribute>
		<attribute name="cardBalance" type="BigDecimal" mode="OUT" optional="false"><description>可用余额</description></attribute>
	</service>

	<service name="getStoreInfoByQRcode" engine="java"
		location="com.banfftech.cloudcard.CloudCardQueryServices" invoke="getStoreInfoByQRcode" auth="true">
		<description>通过二维码查询商家信息</description>
		<attribute name="qrCode" type="String" mode="IN" optional="false"><description>商家二维码</description></attribute>

		<attribute name="storeId" type="String" mode="OUT" optional="true"><description>商家Id</description></attribute>
		<attribute name="storeName" type="String" mode="OUT" optional="true"><description>商家店名</description></attribute>
		<attribute name="storeImgUrl" type="String" mode="OUT" optional="true"><description>商家图片(卡图片)</description></attribute>
	</service>

	<service name="modifyCardOwnerInputValidate" engine="java"
		location="com.banfftech.cloudcard.CloudCardServices" invoke="modifyCardOwnerInputValidate" auth="true">
		<description>云卡转让服务入参验证</description>
		<attribute name="cardId" type="String" mode="IN" optional="false"><description>要转出的卡Id</description></attribute>
		<attribute name="teleNumber" type="String" mode="IN" optional="false"><description>转让到手机号码</description></attribute>
		<attribute name="cloudCard" type="GenericValue" mode="OUT" optional="false"><description>要转出的卡实体对象</description></attribute>
		<attribute name="customerPartyId" type="String" mode="OUT" optional="false"><description>转让到客户partyId</description></attribute>
	</service>

	<service name="modifyCardOwner" engine="java"
		location="com.banfftech.cloudcard.CloudCardServices" invoke="modifyCardOwner" auth="true">
		<description>云卡转让</description>
		<attribute name="cardId" type="String" mode="IN" optional="true"><description>要转出的卡ID</description></attribute>
		<attribute name="cloudCard" type="GenericValue" mode="IN" optional="false"><description>要转出的云卡实体</description></attribute>
		<attribute name="teleNumber" type="String" mode="IN" optional="true"><description>转让到客户手机号码</description></attribute>
		<attribute name="customerPartyId" type="String" mode="INOUT" optional="false"><description>转让到客户partyId</description></attribute>
		<attribute name="newCardId" type="String" mode="OUT" optional="false"><description>转让后新产生的卡id</description></attribute>
		<attribute name="cardBalance" type="BigDecimal" mode="OUT" optional="false"><description>卡内余额</description></attribute>
	</service>
	
	<service name="userStoreListLBS" engine="java"
		location="com.banfftech.cloudcard.CloudCardCustServices" invoke="userStoreListLBS" auth="false">
		<description>查找圈子</description>
		<attribute name="longitude" type="String" mode="INOUT" optional="false"><description>经度</description></attribute>
		<attribute name="latitude" type="String" mode="INOUT" optional="false"><description>纬度</description></attribute>
		<attribute name="listSize" type="String" mode="OUT" optional="true"><description>店铺列表大小</description></attribute>
		<attribute name="storeList" type="List" mode="OUT" optional="true"><description>店铺列表</description></attribute>
	</service>

	<service name="userGetStoreInfo" engine="java"
		location="com.banfftech.cloudcard.CloudCardCustServices" invoke="userGetStoreInfo" auth="false">
		<description>查看店铺简要信息</description>
		<attribute name="storeId" type="String" mode="INOUT" optional="false"><description>商家partyId</description></attribute>
		<attribute name="storeName" type="String" mode="OUT" optional="true"><description>店名</description></attribute>
		<attribute name="storeImg" type="String" mode="OUT" optional="true"><description>店铺图片地址</description></attribute>
		<attribute name="storeAddress" type="String" mode="OUT" optional="true"><description>店铺地址</description></attribute>
		<attribute name="storeTeleNumber" type="String" mode="OUT" optional="true"><description>店铺联系电话（店主电话）</description></attribute>
		<attribute name="longitude" type="String" mode="OUT" optional="true"><description>经度</description></attribute>
		<attribute name="latitude" type="String" mode="OUT" optional="true"><description>纬度</description></attribute>
		<attribute name="isHasCard" type="String" mode="OUT" optional="true"><description>是否有卡</description></attribute>
	</service>
	
	<service name="userGetGroupInfo" engine="java"
		location="com.banfftech.cloudcard.CloudCardCustServices" invoke="userGetGroupInfo" auth="false">
		<description>查看圈子简要信息</description>
		<attribute name="storeId" type="String" mode="INOUT" optional="false"><description>商家partyId</description></attribute>
		<attribute name="groupName" type="String" mode="OUT" optional="true"><description>店名</description></attribute>
		<attribute name="storeList" type="List" mode="OUT" optional="true"><description>店铺详细信息</description></attribute>
	</service>
	
	<service name="purchaseCard" engine="java"
		location="com.banfftech.cloudcard.CloudCardCustServices" invoke="purchaseCard" auth="true">
		<description>购买卡</description>
		<attribute name="storeId" type="String" mode="INOUT" optional="false"><description>商家partyId</description></attribute>
		<attribute name="paymentType" type="String" mode="IN" optional="false"><description>支付类型</description></attribute>
		<attribute name="totalFee" type="String" mode="IN" optional="false"><description>金额</description></attribute>
		<attribute name="paymentService" type="String" mode="IN" optional="false"><description>付款业务</description></attribute>
		<!-- 微信返回结果 -->
		<attribute name="appid" type="String" mode="OUT" optional="true"><description>商户ID</description></attribute>
		<attribute name="partnerid" type="String" mode="OUT" optional="true"><description>合作ID</description></attribute>
		<attribute name="prepayid" type="String" mode="OUT" optional="true"><description>预付ID</description></attribute>
		<attribute name="package" type="String" mode="OUT" optional="true"><description>报名</description></attribute>
		<attribute name="noncestr" type="String" mode="OUT" optional="true"><description>随机数</description></attribute>
		<attribute name="timestamp" type="String" mode="OUT" optional="true"><description>时间</description></attribute>
		<attribute name="sign" type="String" mode="OUT" optional="true"><description>签名</description></attribute>
		<!-- 支付宝返回结果 -->
		<attribute name="payInfo" type="String" mode="OUT" optional="true"><description>签名</description></attribute>	
	</service>
	
	<service name="userScanCodeGetCardAndStoreInfo" engine="java"
		location="com.banfftech.cloudcard.CloudCardCustServices" invoke="userScanCodeGetCardAndStoreInfo" auth="true">
		<description>C端扫码获取商家信息和卡列表</description>
		<attribute name="qrCode" type="String" mode="INOUT" optional="false"><description>商家二维码</description></attribute>
		<attribute name="storeId" type="String" mode="OUT" optional="false"><description>商家ID</description></attribute>
		<attribute name="groupOwnerId" type="String" mode="OUT" optional="true"><description>圈主的商家ID</description></attribute>
		<attribute name="storeName" type="String" mode="OUT" optional="false"><description>商家名称</description></attribute>
		<attribute name="storeTeleNumber" type="String" mode="OUT" optional="false"><description>商家联系电话</description></attribute>
		<attribute name="storeAddress" type="String" mode="OUT" optional="false"><description>商家联系地址</description></attribute>
		<attribute name="longitude" type="String" mode="OUT" optional="false"><description>经度</description></attribute>
		<attribute name="latitude" type="String" mode="OUT" optional="false"><description>纬度</description></attribute>
		<attribute name="canBuyStoreCard" type="String" mode="OUT" optional="false"><description>能否再买本店卡 Y/N</description></attribute>
		<attribute name="canBuyGroupCard" type="String" mode="OUT" optional="false"><description>能否再买圈主店的卡 Y/N</description></attribute>
		<attribute name="cloudCardList" type="List" mode="OUT" optional="false"><description>卡列表</description></attribute>
	</service>
	
	<service name="getStoreInfoByCardId" engine="java"
		location="com.banfftech.cloudcard.CloudCardCustServices" invoke="getStoreInfoByCardId" auth="true">
		<description>C端扫码获取商家信息</description>
		<attribute name="cardId" type="String" mode="INOUT" optional="false"><description>卡号</description></attribute>
		<attribute name="qrCode" type="String" mode="INOUT" optional="false"><description>商家二维码</description></attribute>
		<attribute name="storeId" type="String" mode="OUT" optional="false"><description>商家ID</description></attribute>
		<attribute name="storeName" type="String" mode="OUT" optional="false"><description>商家名称</description></attribute>
	</service>
	
	<service name="getPaymentQRCode" engine="java"
		location="com.banfftech.cloudcard.CloudCardCustServices" invoke="getPaymentQRCode" auth="true">
		<description>C端获取二维码</description>
		<attribute name="qrCode" type="String" mode="OUT" optional="false"><description>二维码</description></attribute>
		<attribute name="refreshTime" type="Long" mode="OUT" optional="false"><description>刷新时间</description></attribute>
	</service>
	
	<service name="getCardAndStoreInfoByStoreId" engine="java"
		location="com.banfftech.cloudcard.CloudCardCustServices" invoke="getCardAndStoreInfoByStoreId" auth="false">
		<description>C端根据店铺Id获取商户信息和卡列表</description>
		<attribute name="storeId" type="String" mode="INOUT" optional="false"><description>商家ID</description></attribute>
		<attribute name="groupOwnerId" type="String" mode="OUT" optional="true"><description>圈主的商家ID</description></attribute>
		<attribute name="storeName" type="String" mode="OUT" optional="false"><description>商家名称</description></attribute>
		<attribute name="storeTeleNumber" type="String" mode="OUT" optional="false"><description>商家联系电话</description></attribute>
		<attribute name="storeAddress" type="String" mode="OUT" optional="false"><description>商家联系地址</description></attribute>
		<attribute name="longitude" type="String" mode="OUT" optional="false"><description>经度</description></attribute>
		<attribute name="latitude" type="String" mode="OUT" optional="false"><description>纬度</description></attribute>
		<attribute name="canBuyStoreCard" type="String" mode="OUT" optional="false"><description>能否再买本店卡 Y/N</description></attribute>
		<attribute name="canBuyGroupCard" type="String" mode="OUT" optional="false"><description>能否再买圈主店的卡 Y/N</description></attribute>
		<attribute name="cloudCardList" type="List" mode="OUT" optional="false"><description>卡列表</description></attribute>
	</service>
	
	<service name="getCardAndStoreInfoByStoreName" engine="java"
		location="com.banfftech.cloudcard.CloudCardCustServices" invoke="getCardAndStoreInfoByStoreName" auth="false">
		<description>C端根据店铺名称获取商户信息和卡列表</description>
		<attribute name="storeName" type="String" mode="IN" optional="false"><description>商家名称</description></attribute>
		<attribute name="storeInfoList" type="List" mode="OUT" optional="false"><description>卡列表</description></attribute>
	</service>

	<service name="getUserLevelAndScore" engine="java"
		location="com.banfftech.cloudcard.CloudCardCustServices" invoke="getUserLevelAndScore" auth="true">
		<description>C端获取用户等级和积分</description>
		<attribute name="userLevel" type="String" mode="OUT" optional="false"><description>积分</description></attribute>
		<attribute name="score" type="BigDecimal" mode="OUT" optional="false"><description>会员等级</description></attribute>
	</service>
</services>